{"version":3,"file":"static/js/135.79946198.chunk.js","mappings":"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","sources":["webpack://it-incubator-social-network/./src/pages/MainPage/Dialogs/Dialogs.module.scss?727c","webpack://it-incubator-social-network/./src/pages/MainPage/Dialogs/Message/Message.module.scss?100b","pages/MainPage/Dialogs/Message/Message.tsx","assets/images/loading-pulse-200px.svg","pages/MainPage/Dialogs/Dialogs.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__rFWzo\",\"author\":\"Dialogs_author__2pfaz\",\"companion\":\"Dialogs_companion__Vhbx0\",\"dialog_input\":\"Dialogs_dialog_input__UnA2B\",\"input_message\":\"Dialogs_input_message__JCpos\",\"send_btn\":\"Dialogs_send_btn__KgD5-\"};","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__4Az-o\",\"message__header\":\"Message_message__header__6hiYi\",\"message__avatar\":\"Message_message__avatar__1uS4+\",\"message__authorId\":\"Message_message__authorId__o6bHT\",\"message__body\":\"Message_message__body__QSsyP\",\"message__author\":\"Message_message__author__2irU0\",\"message__text\":\"Message_message__text__eIqDt\",\"message__time\":\"Message_message__time__59cV7\"};","import React from \"react\";\nimport { ChatMessageType } from \"store-redux/chat_reducer\";\nimport style from \"./Message.module.scss\";\n\nexport const Message = React.memo(function Message(props: ChatMessageType) {\n  return (\n    <>\n      <div className={style.message}>\n        <div className={style.message__header}>\n          <div className={style.message__avatar}>\n            <img src={props.photo} alt={props.userName} />\n          </div>\n          <div className={style.message__authorId}>\n            <span>id:</span>\n            {props.userId}\n          </div>\n        </div>\n        <div className={style.message__body}>\n          <div className={style.message__author}>{props.userName}</div>\n          <div className={style.message__text}>{props.message}</div>\n        </div>\n      </div>\n    </>\n  );\n});\n","var _rect, _rect2, _rect3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgLoadingPulse200Px(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      background: \"none\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 17.5,\n    y: 30,\n    width: 15,\n    height: 40,\n    fill: \"#df1317\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"18;30;30\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.2s\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"64;40;40\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.2s\"\n  }))), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 42.5,\n    y: 30,\n    width: 15,\n    height: 40,\n    fill: \"#e4934b\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"20.999999999999996;30;30\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.1s\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"58.00000000000001;40;40\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.1s\"\n  }))), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 67.5,\n    y: 30,\n    width: 15,\n    height: 40,\n    fill: \"#e2bb8b\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"20.999999999999996;30;30\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"58.00000000000001;40;40\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoadingPulse200Px);\nexport default __webpack_public_path__ + \"static/media/loading-pulse-200px.0283178318e6660cfda89ca47b797a53.svg\";\nexport { ForwardRef as ReactComponent };","import { ChangeEvent, KeyboardEvent, useEffect, useRef, useState } from \"react\";\nimport style from \"./Dialogs.module.scss\";\nimport { DialogsPropsType } from \"./DialogsContainer\";\nimport { Message } from \"./Message/Message\";\nimport { Button } from \"components/Button/Button\";\nimport loading from \"assets/images/loading-pulse-200px.svg\";\n\nexport const Dialogs = (props: DialogsPropsType) => {\n  const [inputValue, setInputValue] = useState<string>(\"\");\n  const [isAutoScroll, setIsAutoScroll] = useState(false);\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    props.startMessagesListeningAsync();\n    return () => {\n      props.stopMessagesListeningAsync();\n    };\n  }, []);\n  useEffect(() => {\n    if (props.messages.length) {\n      ref.current?.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\",\n      });\n    }\n  }, [props.messages.length]);\n  const scrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>) => {\n    const element = e.currentTarget;\n    if (\n      Math.abs(\n        element.scrollHeight - element.scrollTop - element.clientHeight\n      ) < 300\n    ) {\n      !isAutoScroll && setIsAutoScroll(true);\n    } else {\n      isAutoScroll && setIsAutoScroll(false);\n    }\n  };\n\n  const onChangeInputHandler = (event: ChangeEvent<HTMLTextAreaElement>) => {\n    setInputValue(event.currentTarget.value);\n  };\n  const sendMessageHandler = () => {\n    if (!inputValue) {\n      return;\n    }\n    props.sendMessageAsync(inputValue);\n    setInputValue(\"\");\n  };\n  const onKeyDownSendMessageHandler = (event: KeyboardEvent) => {\n    if (event.key === \"Enter\" && event.ctrlKey && inputValue) {\n      sendMessageHandler();\n    }\n  };\n\n  return (\n    <>\n      <div className={`${style.dialogs}`}>\n        {props.status === \"pending\" ? (\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            connection lost... reconnect, please wait...\n            <img src={loading} width=\"34px\" height=\"34px\" alt=\"icon\" />\n          </div>\n        ) : (\n          <div\n            className={`${style.dialog_item} ${style.author}`}\n            onScroll={scrollHandler}\n          >\n            {props.messages.map((item) => {\n              return (\n                <Message\n                  key={item.id}\n                  id={item.id}\n                  userId={item.userId}\n                  userName={item.userName}\n                  photo={item.photo}\n                  message={item.message}\n                />\n              );\n            })}\n            <div ref={ref} />\n          </div>\n        )}\n      </div>\n      <div className={style.dialog_input}>\n        <textarea\n          autoFocus={true}\n          className={style.input_message}\n          placeholder=\"Write message...\"\n          value={inputValue}\n          onChange={onChangeInputHandler}\n          onKeyDown={onKeyDownSendMessageHandler}\n        />\n        <Button\n          label=\"Send\"\n          disabled={props.status !== \"ready\"}\n          className={style.send_btn}\n          onClick={sendMessageHandler}\n        />\n      </div>\n    </>\n  );\n};\n"],"names":["Message","React","props","_jsx","_Fragment","children","_jsxs","className","style","src","photo","alt","userName","userId","message","Dialogs","inputValue","setInputValue","useState","isAutoScroll","setIsAutoScroll","ref","useRef","useEffect","startMessagesListeningAsync","stopMessagesListeningAsync","_ref$current","messages","length","current","scrollIntoView","behavior","block","sendMessageHandler","sendMessageAsync","concat","dialogs","status","display","alignItems","loading","width","height","dialog_item","author","onScroll","e","element","currentTarget","Math","abs","scrollHeight","scrollTop","clientHeight","map","item","id","dialog_input","autoFocus","input_message","placeholder","value","onChange","event","onKeyDown","key","ctrlKey","Button","label","disabled","send_btn","onClick"],"sourceRoot":""}